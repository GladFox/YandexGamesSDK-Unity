(()=>{"use strict";var e={},n=function(){function e(){}return e.authenticateUser=function(e,n){return t=this,r=void 0,a=function(){var t,r,o,a,i;return function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),console.log("Authentication requested. Require sign-in:",n),!window.yandexSDK)throw new Error("Yandex SDK is not available on the window object.");return[4,window.yandexSDK];case 1:return[4,(t=s.sent()).getPlayer()];case 2:return r=s.sent(),Boolean(n)&&"lite"===r.getMode()?[4,t.auth.openAuthDialog()]:[3,4];case 3:s.sent(),s.label=4;case 4:return o=""!==r.getUniqueID(),console.log("Player is authorized:",o),a={id:r.getUniqueID(),name:r.getName(),avatarUrlSmall:r.getPhoto("small"),avatarUrlMedium:r.getPhoto("medium"),avatarUrlLarge:r.getPhoto("large"),isAuthorized:o},window.SendResponseToUnity(e,!0,JSON.stringify(a),null),console.log("Authentication success message sent to Unity."),[3,6];case 5:return i=s.sent(),console.error("Error during user authentication:",i.message||i),window.SendResponseToUnity(e,!1,null,i.message||"An unknown error occurred during authentication."),[3,6];case 6:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(a.next(e))}catch(e){n(e)}}function s(e){try{u(a.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}u((a=a.apply(t,r||[])).next())}));var t,r,o,a},e}(),t=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}u((r=r.apply(e,n||[])).next())}))},r=function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=function(){function e(){}return e.initialize=function(){return t(this,void 0,void 0,(function(){var n;return r(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,5]),[4,e.loadYandexSDK()];case 1:return t.sent(),[3,5];case 2:return n=t.sent(),console.error("Failed to initialize:",n.message),[4,e.waitForUnityInstance()];case 3:return t.sent(),[4,e.waitForYandexGamesSDKReady()];case 4:return t.sent(),window.unityInstance.SendMessage("YandexGamesSDK","OnSDKInitialized","false|".concat(n.message)),[3,5];case 5:return[2]}}))}))},e.getServerTime=function(){return t(this,void 0,void 0,(function(){var e,n;return r(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,window.yandexSDK.serverTime()];case 1:return e=t.sent(),window.unityInstance.SendMessage("YandexGamesSDK","OnGetServerTimeSuccess",String(e)),[3,3];case 2:return n=t.sent(),console.error("Failed to get server time:",n.message||String(n)),window.unityInstance.SendMessage("YandexGamesSDK","OnGetServerTimeFailure","false|".concat(n.message||String(n))),[3,3];case 3:return[2]}}))}))},e.getEnvironment=function(){return t(this,void 0,void 0,(function(){var e,n;return r(this,(function(t){try{e=window.yandexSDK,n=e.environment,window.unityInstance.SendMessage("YandexGamesSDK","OnGetEnvironmentSuccess",JSON.stringify(n))}catch(e){console.error("Failed to get environment:",e.message||String(e)),window.unityInstance.SendMessage("YandexGamesSDK","OnGetEnvironmetFailure","false|".concat(e.message||String(e)))}return[2]}))}))},e.loadYandexSDK=function(){return t(this,void 0,void 0,(function(){return r(this,(function(n){return[2,new Promise((function(n,t){var r=document.createElement("script");r.src="/sdk.js",r.onload=function(){return e.onYandexSDKLoaded().then(n).catch(t)},r.onerror=function(){console.error("Failed to load Yandex SDK script"),e.initializeUnity().then(n).catch(t)},document.head.appendChild(r)}))]}))}))},e.onYandexSDKLoaded=function(){return t(this,void 0,void 0,(function(){var n,t;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,9]),[4,window.YaGames.init()];case 1:return n=r.sent(),window.yandexSDK=n,console.log("Yandex SDK loaded and initialized successfully"),[4,e.initializeUnity()];case 2:return r.sent(),[4,e.waitForUnityInstance()];case 3:case 6:return r.sent(),[4,e.waitForYandexGamesSDKReady()];case 4:return r.sent(),e.sendUnityMessage("OnYSDKLoaded","YSDK loaded successfully"),e.isInitialized=!0,window.unityInstance.SendMessage("YandexGamesSDK","OnSDKInitialized","true"),[3,9];case 5:return t=r.sent(),console.error("Yandex SDK failed to initialize:",t.message),[4,e.waitForUnityInstance()];case 7:return r.sent(),e.sendUnityMessage("OnYSDKLoadFailed",t.message),[4,e.initializeUnity()];case 8:return r.sent(),window.unityInstance.SendMessage("YandexGamesSDK","OnSDKInitialized","false|".concat(t.message)),[3,9];case 9:return[2]}}))}))},e.initializeUnity=function(){return t(this,void 0,void 0,(function(){var n,t,o,a;return r(this,(function(r){return t="".concat(n="Build","/{{{ LOADER_FILENAME }}}"),o={dataUrl:"".concat(n,"/{{{ DATA_FILENAME }}}"),frameworkUrl:"".concat(n,"/{{{ FRAMEWORK_FILENAME }}}"),codeUrl:"".concat(n,"/{{{ CODE_FILENAME }}}"),streamingAssetsUrl:"StreamingAssets",companyName:"{{{ COMPANY_NAME }}}",productName:"{{{ PRODUCT_NAME }}}",productVersion:"{{{ PRODUCT_VERSION }}}"},a=document.querySelector("#unity-canvas"),[2,new Promise((function(n,r){e.loadScript(t,(function(){window.createUnityInstance(a,o,e.updateLoadingProgress).then((function(t){console.log("Unity WebGL instance created successfully"),window.unityInstance=t,window.unityInstance=t,e.unityInitResolve&&(e.unityInitResolve(),e.unityInitResolve=null),n()})).catch((function(e){console.error("Failed to load Unity game:",e),alert("Failed to load Unity game: "+e),r(e)}))}))}))]}))}))},e.loadScript=function(e,n){var t=document.createElement("script");t.src=e,t.onload=n,t.onerror=function(){console.error("Failed to load script:",e),alert("Failed to load Unity loader script.")},document.body.appendChild(t)},e.updateLoadingProgress=function(e){},e.sendUnityMessage=function(e,n){unityInstance?unityInstance.SendMessage("YandexGamesSDK",e,n):console.warn("Unity instance is not initialized.")},e.waitForUnityInstance=function(){return window.unityInstance?Promise.resolve():e.unityInstancePromise},e.waitForYandexGamesSDKReady=function(){return e.yandexGamesSDKReadyPromise},e.OnYandexGamesSDKReady=function(){e.yandexGamesSDKReadyResolve&&(e.yandexGamesSDKReadyResolve(),e.yandexGamesSDKReadyResolve=null)},e.checkForInitialization=function(){return e.isInitialized},e.isInitialized=!1,e.unityInitResolve=null,e.yandexGamesSDKReadyResolve=null,e.unityInstancePromise=new Promise((function(n){e.unityInitResolve=n})),e.yandexGamesSDKReadyPromise=new Promise((function(n){e.yandexGamesSDKReadyResolve=n})),e}(),a=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}u((r=r.apply(e,n||[])).next())}))},i=function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=function(){function e(){}return e.processQueue=function(){return a(this,void 0,void 0,(function(){var n,t;return i(this,(function(r){switch(r.label){case 0:if(e.isProcessing||0===e.queue.length)return[2];e.isProcessing=!0,r.label=1;case 1:if(!(e.queue.length>0))return[3,6];if(!(n=e.queue.shift()))return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n()];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),console.error("Error executing task:",t),[3,5];case 5:return[3,1];case 6:return e.isProcessing=!1,[2]}}))}))},e.savePlayerData=function(n,t,r){var o=this;e.queue.push((function(){return a(o,void 0,void 0,(function(){var e,o;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),console.log("savePlayerData called with:",{requestId:n,key:t,data:r}),[4,window.yandexSDK.getPlayer()];case 1:return[4,a.sent().setData((o={},o[t]=r,o),!0)];case 2:return a.sent(),console.log("Saving data for ".concat(t,":"),r),window.SendResponseToUnity(n,!0,null,null),[3,4];case 3:return e=a.sent(),console.error("Failed to save player data:",e.message),window.SendResponseToUnity(n,!1,null,e.message),[3,4];case 4:return[2]}}))}))})),e.processQueue()},e.loadPlayerData=function(n,t){var r=this;e.queue.push((function(){return a(r,void 0,void 0,(function(){var e,r,o;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),console.log("loadPlayerData called with:",{requestId:n,key:t}),[4,window.yandexSDK.getPlayer()];case 1:return[4,a.sent().getData([t])];case 2:return(e=a.sent())&&e.hasOwnProperty(t)?(r=e[t],console.log("Loaded player data for key ".concat(t,":"),r),window.SendResponseToUnity(n,!0,r,null)):(console.warn("No data found for key: ".concat(t)),window.SendResponseToUnity(n,!1,null,"No data found for the given key")),[3,4];case 3:return o=a.sent(),console.error("Failed to load player data:",o.message),window.SendResponseToUnity(n,!1,null,o.message),[3,4];case 4:return[2]}}))}))})),e.processQueue()},e.queue=[],e.isProcessing=!1,e}(),u=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}u((r=r.apply(e,n||[])).next())}))},c=function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},l=function(){function e(){}return e.submitScore=function(e,n,t){return u(this,arguments,void 0,(function(e,n,t,r){var o,a,i;return void 0===r&&(r=null),c(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,window.yandexSDK];case 1:return[4,(o=s.sent()).getLeaderboards()];case 2:return a=s.sent(),[4,o.isAvailableMethod("leaderboards.setLeaderboardScore")];case 3:if(!s.sent())throw new Error("setLeaderboardScore method is not available.");return[4,a.setLeaderboardScore(n,t,r)];case 4:return s.sent(),window.SendResponseToUnity(e,!0,null,null),console.log("Score submitted successfully to Unity."),[3,6];case 5:return i=s.sent(),console.error("Error submitting score:",i.message||i),window.SendResponseToUnity(e,!1,null,i.message||"Failed to submit score."),[3,6];case 6:return[2]}}))}))},e.getLeaderboardEntries=function(e,n){return u(this,arguments,void 0,(function(e,n,t,r,o){var a,i,s,u,l;return void 0===t&&(t=5),void 0===r&&(r=5),void 0===o&&(o=!0),c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),[4,window.yandexSDK];case 1:return[4,(a=c.sent()).getLeaderboards()];case 2:return i=c.sent(),[4,a.isAvailableMethod("leaderboards.getLeaderboardEntries")];case 3:if(!c.sent())throw new Error("getLeaderboardEntries method is not available.");return[4,i.getLeaderboardEntries(n,{includeUser:o,quantityTop:t,quantityAround:r})];case 4:return s=c.sent(),u=JSON.stringify(s),window.SendResponseToUnity(e,!0,u,null),console.log("Leaderboard entries fetched successfully and sent to Unity."),[3,6];case 5:return l=c.sent(),console.error("Error fetching leaderboard entries:",l.message||l),window.SendResponseToUnity(e,!1,null,l.message||"Failed to fetch leaderboard entries."),[3,6];case 6:return[2]}}))}))},e.getPlayerEntry=function(e,n){return u(this,void 0,void 0,(function(){var t,r,o,a,i;return c(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,window.yandexSDK];case 1:return[4,(t=s.sent()).getLeaderboards()];case 2:return r=s.sent(),[4,t.isAvailableMethod("leaderboards.getLeaderboardPlayerEntry")];case 3:if(!s.sent())throw new Error("getLeaderboardPlayerEntry method is not available.");return[4,r.getLeaderboardPlayerEntry(n)];case 4:return o=s.sent(),a=JSON.stringify(o),window.SendResponseToUnity(e,!0,a,null),console.log("Player entry fetched successfully and sent to Unity."),[3,6];case 5:return i=s.sent(),console.error("Error fetching player entry:",i.message||i),window.SendResponseToUnity(e,!1,null,i.message||"Failed to fetch player entry."),[3,6];case 6:return[2]}}))}))},e}(),d=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}u((r=r.apply(e,n||[])).next())}))},f=function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},y=function(){function e(){}return e.setGameplayReady=function(){return d(this,void 0,void 0,(function(){var e,n,t;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,window.yandexSDK];case 1:return e=r.sent(),null===(t=e.features.LoadingAPI)||void 0===t||t.ready(),[3,3];case 2:return n=r.sent(),console.error("Failed to send LoadingAPI ready: ",n.message),[3,3];case 3:return[2]}}))}))},e.setGameplayStart=function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.yandexSDK];case 1:return n.sent().features.GameplayAPI.start(),[3,3];case 2:return e=n.sent(),console.error("Failed to send GameplayAPI start: ",e.message),[3,3];case 3:return[2]}}))}))},e.setGameplayStop=function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.yandexSDK];case 1:return n.sent().features.GameplayAPI.stop(),[3,3];case 2:return e=n.sent(),console.error("Failed to send GameplayAPI stop: ",e.message),[3,3];case 3:return[2]}}))}))},e}(),w=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}u((r=r.apply(e,n||[])).next())}))},h=function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},p=function(){function e(){}return e.showInterstitialAd=function(e){return w(this,void 0,void 0,(function(){var n;return h(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,window.yandexSDK];case 1:return[4,t.sent().adv.showFullscreenAdv({callbacks:{onOpen:function(){console.log("Interstitial ad opened."),window.SendResponseToUnity(e,!0,null,null)},onClose:function(n){n?(console.log("Interstitial ad was shown successfully."),window.SendResponseToUnity(e,!0,null,null)):(console.log("Interstitial ad was not shown due to frequency limitation."),window.SendResponseToUnity(e,!1,null,"Interstitial ad was not shown due to frequency limitation."))},onError:function(n){console.error("Error while showing interstitial ad:",n),window.SendResponseToUnity(e,!1,null,n.message||"Failed to show interstitial ad.")},onOffline:function(){console.warn("Network connection lost, unable to show interstitial ad."),window.SendResponseToUnity(e,!1,null,"Network connection lost.")}}})];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),console.error("Failed to call interstitial ad:",n),window.SendResponseToUnity(e,!1,null,n.message||"Failed to call interstitial ad."),[3,4];case 4:return[2]}}))}))},e.showRewardedAd=function(e){return w(this,void 0,void 0,(function(){var n;return h(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,window.yandexSDK];case 1:return[4,t.sent().adv.showRewardedVideo({callbacks:{onOpen:function(){console.log("Rewarded video ad opened."),window.SendResponseToUnity(e,!0,"AdOpened",null)},onRewarded:function(){console.log("Reward granted."),window.SendResponseToUnity(e,!0,"AdGranted",null)},onClose:function(){console.log("Rewarded video ad closed."),window.SendResponseToUnity(e,!0,"AdClosed",null)},onError:function(n){console.error("Error while showing rewarded ad:",n),window.SendResponseToUnity(e,!1,null,n.message||"Failed to show rewarded video ad.")}}})];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),console.error("Failed to call rewarded ad:",n),window.SendResponseToUnity(e,!1,null,n.message||"Failed to call rewarded video ad."),[3,4];case 4:return[2]}}))}))},e.showBannerAd=function(e,n){return w(this,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,window.yandexSDK];case 1:return[4,r.sent().adv.showBannerAdv({position:n})];case 2:return r.sent(),console.log("Banner ad shown at position: ".concat(n)),window.SendResponseToUnity(e,!0,null,null),[3,4];case 3:return t=r.sent(),console.error("Failed to show banner ad:",t),window.SendResponseToUnity(e,!1,null,t.message||"Failed to show banner ad."),[3,4];case 4:return[2]}}))}))},e.hideBannerAd=function(e){return w(this,void 0,void 0,(function(){var n;return h(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,window.yandexSDK];case 1:return[4,t.sent().adv.hideBannerAdv()];case 2:return t.sent(),console.log("Banner ad hidden."),window.SendResponseToUnity(e,!0,null,null),[3,4];case 3:return n=t.sent(),console.error("Failed to hide banner ad:",n),window.SendResponseToUnity(e,!1,null,n.message||"Failed to hide banner ad."),[3,4];case 4:return[2]}}))}))},e}();window.YandexSDKVersion="1.1.4-beta",window.SendResponseToUnity=function(e,n,t,r){var o={requestId:e,status:n,data:null!=t?t:null,error:null!=r?r:n?null:"Unknown error"},a=JSON.stringify(o);unityInstance.SendMessage("YandexGamesSDK","OnJSResponse",a)},window.YandexSDKExports={AuthenticateUser:n.authenticateUser,SavePlayerData:s.savePlayerData,LoadPlayerData:s.loadPlayerData,CheckForInitialization:o.checkForInitialization,OnYandexGamesSDKReady:o.OnYandexGamesSDKReady,GetServerTime:o.getServerTime,GetEnvironment:o.getEnvironment,SubmitScore:l.submitScore,GetLeaderboardEntries:l.getLeaderboardEntries,GetPlayerEntry:l.getPlayerEntry,SetGameplayReady:y.setGameplayReady,SetGameplayStart:y.setGameplayStart,SetGameplayStop:y.setGameplayStop,HideBannerAd:p.hideBannerAd,ShowBannerAd:p.showBannerAd,ShowInterstitialAd:p.showInterstitialAd,ShowRewardedAd:p.showRewardedAd},window.addEventListener("load",(function(){o.initialize()}));var v=window;for(var b in e)v[b]=e[b];e.__esModule&&Object.defineProperty(v,"__esModule",{value:!0})})();